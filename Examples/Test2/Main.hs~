
module Main where 

import Scripting.HSTCL as TCL 
import System.IO

main = do 
  TCL.withInterpreter $ \i -> do 
    createObjectCommand i 
                        "apa" 
                        (mkHandler apaHandler) 
                        nullPtr
                        nullPtr
    
    interpreterLoop i
    
 
  where 
    interpreterLoop i = do 
      putStr "> " 
      hFlush stdout
      str <- getLine
      res <- TCL.evaluate i str
      case res of 
        Ok -> putStrLn "Ok"
        Error -> putStrLn "Error"
        Continue -> putStrLn "Continue"
      interpreterLoop i 